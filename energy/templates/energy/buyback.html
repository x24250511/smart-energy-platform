{% extends 'accounts/base.html' %}

{% block title %}Sell Energy{% endblock %}

{% block content %}
<div style="max-width: 600px; margin: 0 auto;">
    <h2>Sell Surplus Energy</h2>
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin: 2rem 0;">
        <p>Available Surplus: {{ surplus }} kWh</p>
        <p>Buyback Rate: 0.15 credits per kWh</p>
    </div>
    {% if surplus > 0 %}
    <form method="post" style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        {% csrf_token %}
        <div class="form-group">
            <label>Amount to Sell (kWh)</label>
            <input type="number" name="amount" step="0.01" max="{{ surplus }}" required>
        </div>
        <button type="submit" class="btn">Sell Energy</button>
        <a href="{% url 'energy:dashboard' %}" class="btn" style="background: #95a5a6; margin-left: 0.5rem;">Cancel</a>
    </form>
    {% else %}
    <p>You need surplus energy to use buyback</p>
    <a href="{% url 'energy:dashboard' %}" class="btn">Back to Dashboard</a>
    {% endif %}
</div>
{% endblock %}
